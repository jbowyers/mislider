/*! miSlider 2014-06-19 verison 0.1.7 */
/* https://github.com/jbowyers/mislider.git */

!function(a,b,c,d){var e=function(c,e){var f=this;return f.optionsInit={speed:700,pause:4e3,increment:1,stageHeight:!1,slidesOnStage:1,slidesContinuous:!0,slidePosition:"left",slideStart:"beg",slideWidth:!1,slideScaling:100,offsetV:0,centerV:!1,navList:!0,navButtons:!0,navButtonsShow:!1,navButtonsOpacity:.5,randomize:!1,slidesLoaded:!1,beforeTrans:!1,afterTrans:!1,classStage:"mis-stage",classSlider:"mis-slider",classSlide:"mis-slide",classNavButtons:"mis-nav-buttons",classNavList:"mis-nav-list",selectorSlider:"ol",selectorSlide:"li",modernizrBool:!1},f.options={},f.stage=!1,f.slider=!1,f.slides=!1,f.navButtons=!1,f.prev=!1,f.next=!1,f.navList=!1,f.navListItems=!1,f.slideCurrent=!1,f.animatedElements=a(),f.stageWidth=0,f.stageHeight=0,f.sliderWidth=0,f.slideWidth=0,f.slideWidthCurrent=0,f.slideScaling=f.optionsInit.slideScaling,f.scalingWidth=0,f.scalingMargin=0,f.offsetV=f.optionsInit.offsetV,f.slidesLengthOrig=0,f.slidesLength=0,f.indexCurrent=0,f.indexFirst=0,f.indexLast=0,f.increment=f.optionsInit.increment,f.slidesOnStage=f.optionsInit.slidesOnStage,f.speed=f.optionsInit.speed,f.navButtonsOpacity=f.optionsInit.navButtonsOpacity,f.navButtonsFade=!1,f.slidesContinuous=f.optionsInit.slidesContinuous,f.pause=f.optionsInit.pause,f.timer=!1,f.resizeTimer=!1,f.after=!1,f.classSlideClone="mis-clone",f.classSlideContainer="mis-container",f.classCurrent="mis-current",f.classPrev="mis-prev",f.classNext="mis-next",f.init=function(c,e){return f.options=a.extend({},f.optionsInit,e),f.stage=a(c),f.stage.fadeTo(0,0),f.slider=f.stage.children(f.options.selectorSlider).first(),f.slides=f.slider.children(f.options.selectorSlide),f.slidesLengthOrig=f.slides.length,f.animatedElements=f.animatedElements.add(f.slider).add(f.slides),f.indexCurrent="beg"===String(f.options.slideStart)?0:"mid"===String(f.options.slideStart)?d.ceil(f.slidesLengthOrig/2)-1:"end"===String(f.options.slideStart)?f.slidesLengthOrig-1:a.isNumeric(f.options.slideStart)&&parseInt(f.options.slideStart)<=f.slidesLengthOrig&&parseInt(f.options.slideStart)>0?parseInt(f.options.slideStart)-1:0,f.options.randomize&&f.randomize(),f.stage.hasClass(f.options.classStage)||f.stage.addClass(f.options.classStage),f.slider.hasClass(f.options.classSlider)||f.slider.addClass(f.options.classSlider),f.options.speed&&a.isNumeric(f.options.speed)&&(f.speed=d.abs(parseInt(f.options.speed))),f.options.pause===!1?f.pause=!1:a.isNumeric(f.options.pause)&&(f.pause=d.abs(parseInt(f.options.pause))),a.isNumeric(f.options.offsetV)&&(f.offsetV=Number(f.options.offsetV)),a.isNumeric(f.options.navButtonsOpacity)&&Number(f.options.navButtonsOpacity)>=0&&Number(f.options.navButtonsOpacity)<=1&&(f.navButtonsOpacity=Number(f.options.navButtonsOpacity)),a.isNumeric(f.options.slideScaling)&&Number(f.options.slideScaling)>=100&&(f.slideScaling=Number(f.options.slideScaling)),f.supportTransform(f.options.modernizrBool,c)||(f.slideScaling=100),f.optionsInit.slideScaling=f.slideScaling,a.isNumeric(f.options.increment)&&0!==parseInt(f.options.increment)&&(f.increment=parseInt(f.options.increment),f.optionsInit.increment=f.increment),f.options.navButtons&&(f.addNavButtons(f.stage),f.animatedElements=f.animatedElements.add(f.navButtons),f.options.navButtonsShow||(f.navButtonsFade=!0)),f.options.navList&&f.addNavList(),f.setup(),f.slidesOnStage>1&&f.slider.on("click",f.options.selectorSlide,function(b){a(this).index()!==f.indexCurrent&&(b.preventDefault(),f.autoplayOff(),f.transition(a(this).index(),!1,f.autoplayOn(f.increment)))}),(f.pause!==!1||f.navButtonsFade)&&f.stage.on({mouseenter:function(){if(f.pause!==!1&&f.autoplayOff(),f.navButtonsFade)if(f.animatedElements.is(":animated"))if(a.isFunction(f.after)){var b=f.after;f.after=function(){b(),f.navButtons.fadeTo(400,f.navButtonsOpacity)}}else f.after=function(){f.navButtons.fadeTo(400,f.navButtonsOpacity)};else f.navButtons.fadeTo(400,f.navButtonsOpacity)},mouseleave:function(){f.pause!==!1&&f.autoplayOn(f.increment),f.navButtonsFade&&f.navButtons.fadeTo(100,0)}}),a(b).on({load:function(){f.slideSetup(),f.updateNavButtons(),f.stage.fadeTo(600,1),f.autoplayOn(f.increment),a.isFunction(f.options.slidesLoaded)&&f.options.slidesLoaded()},resize:function(){f.autoplayOff(),clearTimeout(f.resizeTimer),f.resizeTimer=setTimeout(function(){f.resetSlider()},500)}}),this},f.setup=function(){var b,c,e;return f.slidesLength=f.slidesLengthOrig,f.indexLast=f.slidesLength-1,f.slides.each(function(){var b,c,d=a(this);d.hasClass(f.options.classSlide)||d.addClass(f.options.classSlide),d.children().hasClass(f.classSlideContainer)||d.wrapInner("<div class='"+f.classSlideContainer+"'></div>"),b=d.outerWidth(),c=d.outerHeight(),b>f.slideWidthCurrent&&(f.slideWidthCurrent=b),c>f.stageHeight&&(f.stageHeight=c)}),a.isNumeric(f.options.slideWidth)&&parseInt(f.options.slideWidth)>0&&(f.slideWidthCurrent=parseInt(f.options.slideWidth)),a.isNumeric(f.options.stageHeight)&&parseInt(f.options.stageHeight)>0&&(f.stageHeight=parseInt(f.options.stageHeight)),f.indexCurrent=f.normalizeIndex(f.indexCurrent),f.stage.css({height:f.stageHeight}),f.stageWidth=f.stage.outerWidth(),b=d.floor((f.stageWidth-f.slideWidthCurrent)/(100*f.slideWidthCurrent/f.slideScaling))+1,b=1>b?1:b,f.slidesOnStage=b,a.isNumeric(f.options.slidesOnStage)&&parseInt(f.options.slidesOnStage)>=1&&parseInt(f.options.slidesOnStage)<=b&&(f.slidesOnStage=parseInt(f.options.slidesOnStage)),"center"===f.options.slidePosition&&(f.slidesOnStage=2*d.ceil(f.slidesOnStage/2)-1),c=(f.increment+f.slidesOnStage)/2,c>f.slidesOnStage?f.increment=f.slidesOnStage:0>c&&(f.increment=-f.slidesOnStage),f.slidesOnStage>1?(f.slideWidth=(f.stageWidth-f.slideWidthCurrent)/(f.slidesOnStage-1),f.slideWidthCurrent<f.slideWidth&&!f.options.slideWidth&&(f.slideWidth=f.stageWidth/f.slidesOnStage,f.slideWidthCurrent=f.slideWidth)):(f.slideWidth=f.stageWidth,f.slideWidthCurrent=f.slideWidth,f.slideScaling=100),f.scalingWidth=f.slideWidth*f.slideScaling/100,f.scalingMargin=(f.slideWidth-f.scalingWidth)/2,e=f.slidesLengthOrig-f.slidesOnStage,e>=0&&f.options.slidesContinuous?(f.slidesContinuous=!0,f.slidesToClone=f.slidesOnStage+d.abs(f.increment)-1,f.slides.slice(f.slidesLength-f.slidesToClone).clone().addClass(f.classSlideClone).removeAttr("id").prependTo(f.slider).find("*").removeAttr("id"),f.slides.slice(0,f.slidesToClone).clone().addClass(f.classSlideClone).removeAttr("id").appendTo(f.slider).find("*").removeAttr("id"),f.indexFirst=f.slidesToClone,f.indexLast=f.slidesLength+f.slidesToClone-1,f.indexCurrent=f.indexCurrent+f.slidesToClone,f.slides=f.slider.children(f.options.selectorSlide),f.slidesLength=f.slides.length):f.slidesContinuous=!1,f.slideCurrent=f.slides.eq(f.indexCurrent),f.sliderWidth=f.slideWidthCurrent+f.slideWidth*(f.slidesLength-1)+1,f.slider.css({left:f.leftOffset(f.indexCurrent),width:f.sliderWidth}),f.updateNavList(f.indexCurrent),this},f.transition=function(b,c,d,e){if(!f.animatedElements.is(":animated")&&b!==f.indexCurrent){var g,h=b,i=f.indexCurrent;if(f.slidesContinuous?(b<f.indexFirst?h=b+f.slidesLengthOrig:b>f.indexLast&&(h=b-f.slidesLengthOrig),h!==b&&(i=f.indexCurrent+f.slidesLengthOrig,b>h&&(i=f.indexCurrent-f.slidesLengthOrig))):h=f.normalizeIndex(b),g=f.normalizeIndex(h)-f.normalizeIndex(i)){var j;if(a.isFunction(c)&&c(),a.isFunction(f.options.beforeTrans)&&f.options.beforeTrans(),j=function(){a.isFunction(d)&&d(),a.isFunction(f.options.afterTrans)&&f.options.afterTrans(),a.isFunction(f.after)&&(f.after(),f.after=!1)},f.slidesContinuous&&i!==f.indexCurrent){var k=f.slides.eq(i);100!==f.slideScaling&&(k.css({transform:"scale(1)",width:f.slideWidthCurrent,marginLeft:"0",marginRight:"0",borderSpacing:"100px"}),f.options.centerV&&k.children().first().css({marginTop:k.data("slideMarginTopCurrent")})),k.addClass(f.classCurrent).siblings().removeClass(f.classCurrent),f.slider.css("left",f.leftOffset(i)),100!==f.slideScaling&&(f.slideCurrent.css({transform:"scale("+100/f.slideScaling+")",width:f.scalingWidth,marginLeft:f.scalingMargin,marginRight:f.scalingMargin,borderSpacing:f.slideScaling}),f.options.centerV&&f.slideCurrent.children().first().css({marginTop:f.slideCurrent.data("slideMarginTop")})),f.indexCurrent=i,f.slideCurrent=f.slides.eq(f.indexCurrent)}f.navButtons?f.navButtons.fadeTo(100,e?f.navButtonsOpacity:0,function(){f.navButtons.fadeTo(100,0,function(){f.animateSlides(h,function(){f.stage.find(":hover").length||f.options.navButtonsShow?f.navButtons.fadeTo(400,f.navButtonsOpacity,j):j()})})}):f.animateSlides(h,j)}}return this},f.animateSlides=function(b,c){f.slideCurrent.removeClass(f.classCurrent);var d=f.slides.eq(b);return 100!==f.slideScaling&&(d.animate({marginLeft:"0",marginRight:"0",width:f.slideWidthCurrent},{duration:f.speed,queue:!1}).animate({borderSpacing:"100px"},{step:function(b){a(this).css({transform:"scale("+100/b+")"})},duration:f.speed,queue:!1}),f.slideCurrent.animate({marginLeft:f.scalingMargin,marginRight:f.scalingMargin,width:f.scalingWidth},{duration:f.speed,queue:!1}).animate({borderSpacing:f.slideScaling},{step:function(b){a(this).css({transform:"scale("+100/b+")"})},duration:f.speed,queue:!1}),f.options.centerV&&(d.children().first().animate({marginTop:d.data("slideMarginTopCurrent")},{duration:f.speed,queue:!1}),f.slideCurrent.children().first().animate({marginTop:f.slideCurrent.data("slideMarginTop")},{duration:f.speed,queue:!1}))),f.slider.animate({left:f.leftOffset(b)},{duration:f.speed,queue:!1,complete:function(){f.indexCurrent=b,f.slideCurrent=d,f.updateNavList(b),f.slideCurrent.addClass(f.classCurrent).siblings().removeClass(f.classCurrent),a.isFunction(c)&&c()}}),this},f.autoplayOn=function(a){return f.pause!==!1&&(f.timer=clearInterval(f.timer),f.stage.find(":hover").length||(f.timer=setInterval(function(){f.animatedElements.is(":animated")||f.transition(f.indexCurrent+a)},f.pause))),this},f.autoplayOff=function(){return f.timer=clearInterval(f.timer),this},f.addNavButtons=function(b){var c,e=a(b);return c=a("<div class='"+f.options.classNavButtons+"'><a href='#' class='"+f.classPrev+"'>Prev</a><a href='#' class='"+f.classNext+"'>Next</a></div>"),c.css({opacity:f.options.navButtonsShow?f.navButtonsOpacity:0}).children("a").on("click",function(a){a.preventDefault(),this.className===f.classPrev?(f.autoplayOff(),f.transition(f.indexCurrent-d.abs(f.increment),!1,f.autoplayOn(f.increment),!0)):this.className===f.classNext&&(f.autoplayOff(),f.transition(f.indexCurrent+d.abs(f.increment),!1,f.autoplayOn(f.increment),!0))}),e.append(c),f.navButtons=e.find("."+f.options.classNavButtons),f.prev=f.navButtons.find("."+f.classPrev),f.next=f.navButtons.find("."+f.classNext),this},f.updateNavButtons=function(){f.navButtons&&f.navButtons.css({width:f.slideWidthCurrent,left:f.slideCurrent.offset().left-f.stage.offset().left}).children("a").css({height:f.stageHeight,paddingTop:(50+f.offsetV)*f.stageHeight/100})},f.addNavList=function(){var b,c="<ol class='"+f.options.classNavList+"'>";return f.slides.each(function(b){var d,e=b+1;d=a(this).find(":header").sort(function(b,c){var d=a(b).prop("tagName"),e=a(c).prop("tagName");return parseInt(d.match(/\d+/),10)-parseInt(e.match(/\d+/),10)}).eq(0).html(),d?e=d:(d=a(this).find("figcaption").eq(0).html(),d?e=d:(d=a(this).find("img").eq(0).attr("title"),d&&(e=d))),c+="<li><a href='#' title='"+e+"'>"+e+"</a></li>"}),c+="</ol>",b=a(c).on("click","li",function(b){b.preventDefault(),a(this).index()!==f.indexCurrent-f.indexFirst&&(f.autoplayOff(),f.transition(a(this).index()+f.indexFirst,!1,f.autoplayOn(f.increment)))}),f.stage.prepend(b),f.navList=f.stage.children().first(),f.navListItems=f.navList.children("li"),this},f.updateNavList=function(a){f.navListItems.length&&f.navListItems.eq(a-f.indexFirst).addClass(f.classCurrent).siblings().removeClass(f.classCurrent)},f.randomize=function(){return f.slides.sort(function(){return.5-d.random()}),f.slides.detach().appendTo(f.slider),this},f.leftOffset=function(a){var b=f.slideWidth*a*-1,c=b;return"center"===f.options.slidePosition?c=b+d.floor(f.slidesOnStage/2)*f.slideWidth:"right"===f.options.slidePosition&&(c=b+(f.slidesOnStage-1)*f.slideWidth),c},f.resetSlider=function(){if(f.animatedElements.is(":animated"))if(a.isFunction(f.after)){var b=f.after;f.after=function(){b(),f.resetSlider()}}else f.after=f.resetSlider;else f.autoplayOff(),f.stage.removeAttr("style"),f.slider.removeAttr("style"),f.slides.removeAttr("style"),f.slides.filter("."+f.classSlideClone).remove(),f.slides=f.slider.children(f.options.selectorSlide),f.stageHeight=0,f.slideWidthCurrent=0,f.slideScaling=f.optionsInit.slideScaling,f.indexCurrent-=f.slidesToClone,f.indexFirst=0,f.increment=f.optionsInit.increment,f.after=!1,f.setup(),f.slideSetup(),f.updateNavButtons(),f.autoplayOn(f.increment);return this},f.normalizeIndex=function(a){return a=(a%f.slidesLengthOrig+f.slidesLengthOrig)%f.slidesLengthOrig},f.slideSetup=function(){f.slides.each(function(b){var c=a(this);c.css({"transform-origin":"50% "+String(50+f.offsetV)+"%",width:f.slideWidthCurrent}),f.options.centerV&&f.getMarginTop(c,"slideMarginTopCurrent"),c.css({width:f.scalingWidth}),100!==f.slideScaling&&c.css({marginLeft:f.scalingMargin,marginRight:f.scalingMargin,transform:"scale("+100/f.slideScaling+")",borderSpacing:f.slideScaling}),f.options.centerV&&c.children().first().css({marginTop:f.getMarginTop(c,"slideMarginTop")}),b===f.indexCurrent&&(c.css({borderSpacing:"100px",width:f.slideWidthCurrent,marginLeft:0,marginRight:0,transform:"scale(1)"}).addClass(f.classCurrent).siblings().removeClass(f.classCurrent),f.options.centerV&&c.children().first().css({marginTop:f.getMarginTop(c,"slideMarginTopCurrent")}))})},f.getMarginTop=function(a,b){var c=a.children().first().outerHeight(),d=0;return c>f.stageHeight&&(d=(f.stageHeight-c)/2),a.data(b,d),d},f.supportTransform=function(a,b){var c=!1;if(a&&Modernizr)Modernizr.csstransforms&&(c=!0);else{var d=b.style;("undefined"!=typeof d.transform||"undefined"!=typeof d.WebkitTransform||"undefined"!=typeof d.msTransform)&&(c=!0)}return c},f.init(c,e),this};a.fn.miSlider=function(b){return this.each(function(){var c=a(this);c.data("miSlider")||c.data("miSlider",new e(this,b))})}}(jQuery,window,document,Math);
//# sourceMappingURL=mislider.min.js.map