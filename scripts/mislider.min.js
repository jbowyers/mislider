(function(n,t,i,r){var u=function(i,u){var f=this;return f.optionsInit={speed:700,pause:4e3,increment:1,stageHeight:!1,slidesOnStage:1,slidesContinuous:!0,slidePosition:"left",slideStart:"beg",slideWidth:!1,slideScaling:100,offsetV:0,centerV:!1,navList:!0,navButtons:!0,navButtonsShow:!1,navButtonsOpacity:.5,randomize:!1,slidesLoaded:!1,beforeTrans:!1,afterTrans:!1,classStage:"mis-stage",classSlider:"mis-slider",classSlide:"mis-slide",classNavButtons:"mis-nav-buttons",classNavList:"mis-nav-list",selectorSlider:"ol",selectorSlide:"li",modernizrBool:!1},f.options={},f.stage=!1,f.slider=!1,f.slides=!1,f.navButtons=!1,f.prev=!1,f.next=!1,f.navList=!1,f.navListItems=!1,f.slideCurrent=!1,f.stageWidth=0,f.stageHeight=0,f.sliderWidth=0,f.slideWidth=0,f.slideWidthCurrent=0,f.slideScaling=f.optionsInit.slideScaling,f.scalingWidth=0,f.scalingMargin=0,f.offsetV=f.optionsInit.offsetV,f.slidesLengthOrig=0,f.slidesLength=0,f.indexCurrent=0,f.indexFirst=0,f.indexLast=0,f.increment=f.optionsInit.increment,f.slidesOnStage=f.optionsInit.slidesOnStage,f.speed=f.optionsInit.speed,f.navButtonsOpacity=f.optionsInit.navButtonsOpacity,f.navButtonsFade=!1,f.slidesContinuous=f.optionsInit.slidesContinuous,f.pause=f.optionsInit.pause,f.timer=!1,f.resizeTimer=!1,f.after=!1,f.classSlideClone="mis-clone",f.classSlideContainer="mis-container",f.classCurrent="mis-current",f.classPrev="mis-prev",f.classNext="mis-next",f.init=function(i,u){if(f.options=n.extend({},f.optionsInit,u),f.stage=n(i),f.stage.fadeTo(0,0),f.slider=f.stage.children(f.options.selectorSlider).first(),f.slides=f.slider.children(f.options.selectorSlide),f.slidesLengthOrig=f.slides.length,f.indexCurrent=String(f.options.slideStart)==="beg"?0:String(f.options.slideStart)==="mid"?r.ceil(f.slidesLengthOrig/2)-1:String(f.options.slideStart)==="end"?f.slidesLengthOrig-1:n.isNumeric(f.options.slideStart)&&parseInt(f.options.slideStart)<=f.slidesLengthOrig&&parseInt(f.options.slideStart)>0?parseInt(f.options.slideStart)-1:0,f.options.randomize&&f.randomize(),f.stage.hasClass(f.options.classStage)||f.stage.addClass(f.options.classStage),f.slider.hasClass(f.options.classSlider)||f.slider.addClass(f.options.classSlider),f.options.speed&&n.isNumeric(f.options.speed)&&(f.speed=r.abs(parseInt(f.options.speed))),f.options.pause===!1?f.pause=!1:n.isNumeric(f.options.pause)&&(f.pause=r.abs(parseInt(f.options.pause))),n.isNumeric(f.options.offsetV)&&(f.offsetV=Number(f.options.offsetV)),n.isNumeric(f.options.navButtonsOpacity)&&Number(f.options.navButtonsOpacity)>=0&&Number(f.options.navButtonsOpacity)<=1&&(f.navButtonsOpacity=Number(f.options.navButtonsOpacity)),n.isNumeric(f.options.slideScaling)&&Number(f.options.slideScaling)>=100&&(f.slideScaling=Number(f.options.slideScaling)),f.supportTransform(f.options.modernizrBool,i)||(f.slideScaling=100),f.optionsInit.slideScaling=f.slideScaling,n.isNumeric(f.options.increment)&&parseInt(f.options.increment)!==0&&(f.increment=parseInt(f.options.increment),f.optionsInit.increment=f.increment),f.options.navButtons&&(f.addNavButtons(f.stage),f.options.navButtonsShow||(f.navButtonsFade=!0)),f.options.navList&&f.addNavList(),f.setup(),f.slidesOnStage>1)f.slider.on("click",f.options.selectorSlide,function(t){n(this).index()!==f.indexCurrent&&(t.preventDefault(),f.autoplayOff(),f.transition(n(this).index(),!1,f.autoplayOn(f.increment)))});if(f.pause!==!1||f.navButtonsFade)f.stage.on({mouseenter:function(){f.pause!==!1&&f.autoplayOff();f.navButtonsFade&&f.navButtons.fadeTo(400,f.navButtonsOpacity)},mouseleave:function(){f.pause!==!1&&f.autoplayOn(f.increment);f.navButtonsFade&&f.navButtons.fadeTo(100,0)}});n(t).on({load:function(){f.slideSetup();f.updateNavButtons();f.stage.fadeTo(600,1);f.autoplayOn(f.increment);n.isFunction(f.options.slidesLoaded)&&f.options.slidesLoaded()},resize:function(){f.autoplayOff();clearTimeout(f.resizeTimer);f.resizeTimer=setTimeout(function(){f.resetSlider()},500)}});return this},f.setup=function(){var t,i,u;return f.slidesLength=f.slidesLengthOrig,f.indexLast=f.slidesLength-1,f.slides.each(function(){var t=n(this),i,r;t.hasClass(f.options.classSlide)||t.addClass(f.options.classSlide);t.children().hasClass(f.classSlideContainer)||t.wrapInner('<div class="'+f.classSlideContainer+'"><\/div>');i=t.outerWidth();r=t.outerHeight();i>f.slideWidthCurrent&&(f.slideWidthCurrent=i);r>f.stageHeight&&(f.stageHeight=r)}),n.isNumeric(f.options.slideWidth)&&parseInt(f.options.slideWidth)>0&&(f.slideWidthCurrent=parseInt(f.options.slideWidth)),n.isNumeric(f.options.stageHeight)&&parseInt(f.options.stageHeight)>0&&(f.stageHeight=parseInt(f.options.stageHeight)),f.indexCurrent=f.normalizeIndex(f.indexCurrent),f.stage.css({height:f.stageHeight}),f.stageWidth=f.stage.outerWidth(),t=r.floor((f.stageWidth-f.slideWidthCurrent)/(f.slideWidthCurrent*100/f.slideScaling))+1,t=t<1?1:t,f.slidesOnStage=t,n.isNumeric(f.options.slidesOnStage)&&parseInt(f.options.slidesOnStage)>=1&&parseInt(f.options.slidesOnStage)<=t&&(f.slidesOnStage=parseInt(f.options.slidesOnStage)),f.options.slidePosition==="center"&&(f.slidesOnStage=r.ceil(f.slidesOnStage/2)*2-1),i=(f.increment+f.slidesOnStage)/2,i>f.slidesOnStage?f.increment=f.slidesOnStage:i<0&&(f.increment=-f.slidesOnStage),f.slidesOnStage>1?(f.slideWidth=(f.stageWidth-f.slideWidthCurrent)/(f.slidesOnStage-1),f.slideWidthCurrent<f.slideWidth&&!f.options.slideWidth&&(f.slideWidth=f.stageWidth/f.slidesOnStage,f.slideWidthCurrent=f.slideWidth)):(f.slideWidth=f.stageWidth,f.slideWidthCurrent=f.slideWidth,f.slideScaling=100),f.scalingWidth=f.slideWidth*f.slideScaling/100,f.scalingMargin=(f.slideWidth-f.scalingWidth)/2,u=f.slidesLengthOrig-f.slidesOnStage,u>=0&&f.options.slidesContinuous?(f.slidesContinuous=!0,f.slidesToClone=f.slidesOnStage+r.abs(f.increment)-1,f.slides.slice(f.slidesLength-f.slidesToClone).clone().addClass(f.classSlideClone).removeAttr("id").prependTo(f.slider).find("*").removeAttr("id"),f.slides.slice(0,f.slidesToClone).clone().addClass(f.classSlideClone).removeAttr("id").appendTo(f.slider).find("*").removeAttr("id"),f.indexFirst=f.slidesToClone,f.indexLast=f.slidesLength+f.slidesToClone-1,f.indexCurrent=f.indexCurrent+f.slidesToClone,f.slides=f.slider.children(f.options.selectorSlide),f.slidesLength=f.slides.length):f.slidesContinuous=!1,f.slideCurrent=f.slides.eq(f.indexCurrent),f.sliderWidth=f.slideWidthCurrent+f.slideWidth*(f.slidesLength-1)+1,f.slider.css({left:f.leftOffset(f.indexCurrent),width:f.sliderWidth}),f.updateNavList(f.indexCurrent),this},f.transition=function(t,i,r,u){var e,o,c,h,s;return f.slider.is(":animated")||f.slides.is(":animated")||f.navButtons&&f.navButtons.is(":animated")||t===f.indexCurrent||(e=t,o=f.indexCurrent,f.slidesContinuous?(t<f.indexFirst?e=t+f.slidesLengthOrig:t>f.indexLast&&(e=t-f.slidesLengthOrig),e!==t&&(o=f.indexCurrent+f.slidesLengthOrig,e<t&&(o=f.indexCurrent-f.slidesLengthOrig))):e=f.normalizeIndex(t),c=f.normalizeIndex(e)-f.normalizeIndex(o),c&&(n.isFunction(i)&&i(),n.isFunction(f.options.beforeTrans)&&f.options.beforeTrans(),h=function(){n.isFunction(r)&&r();n.isFunction(f.options.afterTrans)&&f.options.afterTrans();n.isFunction(f.after)&&(f.after(),f.after=!1)},f.slidesContinuous&&o!==f.indexCurrent&&(s=f.slides.eq(o),f.slideScaling!==100&&(s.css({transform:"scale(1)",width:f.slideWidthCurrent,marginLeft:"0",marginRight:"0",borderSpacing:"100px"}),f.options.centerV&&s.children().first().css("marginTop",s.data("slideMarginTopCurrent"))),s.addClass(f.classCurrent).siblings().removeClass(f.classCurrent),f.slider.css("left",f.leftOffset(o)),f.slideScaling!==100&&(f.slideCurrent.css({transform:"scale("+100/f.slideScaling+")",width:f.scalingWidth,marginLeft:f.scalingMargin,marginRight:f.scalingMargin,borderSpacing:f.slideScaling}),f.options.centerV&&f.slideCurrent.children().first().css("marginTop",f.slideCurrent.data("slideMarginTop"))),f.indexCurrent=o,f.slideCurrent=f.slides.eq(f.indexCurrent)),f.navButtons?f.navButtons.fadeTo(100,u?f.navButtonsOpacity:0,function(){f.navButtons.fadeTo(100,0,function(){f.animateSlides(e,function(){f.stage.find(":hover").length||f.options.navButtonsShow?f.navButtons.fadeTo(400,f.navButtonsOpacity,h):h()})})}):f.animateSlides(e,h))),this},f.animateSlides=function(t,i){f.slideCurrent.removeClass(f.classCurrent);var r=f.slides.eq(t);return f.slideScaling!==100&&(r.animate({marginLeft:"0",marginRight:"0",width:f.slideWidthCurrent},{duration:f.speed,queue:!1}).animate({borderSpacing:"100px"},{step:function(t){n(this).css({transform:"scale("+100/t+")"})},duration:f.speed,queue:!1}),f.slideCurrent.animate({marginLeft:f.scalingMargin,marginRight:f.scalingMargin,width:f.scalingWidth},{duration:f.speed,queue:!1}).animate({borderSpacing:f.slideScaling},{step:function(t){n(this).css({transform:"scale("+100/t+")"})},duration:f.speed,queue:!1}),f.options.centerV&&(r.children().first().animate({marginTop:r.data("slideMarginTopCurrent")},{duration:f.speed,queue:!1}),f.slideCurrent.children().first().animate({marginTop:f.slideCurrent.data("slideMarginTop")},{duration:f.speed,queue:!1}))),f.slider.animate({left:f.leftOffset(t)},{duration:f.speed,queue:!1,complete:function(){f.indexCurrent=t;f.slideCurrent=r;f.updateNavList(t);f.slideCurrent.addClass(f.classCurrent).siblings().removeClass(f.classCurrent);n.isFunction(i)&&i()}}),this},f.autoplayOn=function(n){return f.pause!==!1&&(f.timer=clearInterval(f.timer),f.stage.find(":hover").length||(f.timer=setInterval(function(){f.slider.is(":animated")||f.slides.is(":animated")||f.navButtons&&f.navButtons.is(":animated")||f.transition(f.indexCurrent+n)},f.pause))),this},f.autoplayOff=function(){return f.timer=clearInterval(f.timer),this},f.addNavButtons=function(t){var i=n(t),u=n('<div class="'+f.options.classNavButtons+'"><a href="#" class="'+f.classPrev+'">Prev<\/a><a href="#" class="'+f.classNext+'">Next<\/a><\/div>');u.css({opacity:f.options.navButtonsShow?f.navButtonsOpacity:0}).children("a").on("click",function(n){n.preventDefault();this.className===f.classPrev?(f.autoplayOff(),f.transition(f.indexCurrent-r.abs(f.increment),!1,f.autoplayOn(f.increment),!0)):this.className===f.classNext&&(f.autoplayOff(),f.transition(f.indexCurrent+r.abs(f.increment),!1,f.autoplayOn(f.increment),!0))});return i.append(u),f.navButtons=i.find("."+f.options.classNavButtons),f.prev=f.navButtons.find("."+f.classPrev),f.next=f.navButtons.find("."+f.classNext),this},f.updateNavButtons=function(){f.navButtons&&f.navButtons.css({width:f.slideWidthCurrent,left:f.slideCurrent.offset().left-f.stage.offset().left}).children("a").css({height:f.stageHeight,paddingTop:(50+f.offsetV)*f.stageHeight/100})},f.addNavList=function(){var t='<ol class="'+f.options.classNavList+'">',i;return f.slides.each(function(i){var u=i+1,r=n(this).find(":header").sort(function(t,i){var r=n(t).prop("tagName"),u=n(i).prop("tagName");return parseInt(r.match(/\d+/),10)-parseInt(u.match(/\d+/),10)}).eq(0).html();r?u=r:(r=n(this).find("figcaption").eq(0).html(),r?u=r:(r=n(this).find("img").eq(0).attr("title"),r&&(u=r)));t+='<li><a href="#" title="'+u+'">'+u+"<\/a><\/li>"}),t+="<\/ol>",i=n(t).on("click","li",function(t){t.preventDefault();n(this).index()!==f.indexCurrent-f.indexFirst&&(f.autoplayOff(),f.transition(n(this).index()+f.indexFirst,!1,f.autoplayOn(f.increment)))}),f.stage.prepend(i),f.navList=f.stage.children().first(),f.navListItems=f.navList.children("li"),this},f.updateNavList=function(n){f.navListItems.length&&f.navListItems.eq(n-f.indexFirst).addClass(f.classCurrent).siblings().removeClass(f.classCurrent)},f.randomize=function(){return f.slides.sort(function(){return.5-r.random()}),f.slides.detach().appendTo(f.slider),this},f.leftOffset=function(n){var t=f.slideWidth*n*-1,i=t;return f.options.slidePosition==="center"?i=t+r.floor(f.slidesOnStage/2)*f.slideWidth:f.options.slidePosition==="right"&&(i=t+(f.slidesOnStage-1)*f.slideWidth),i},f.resetSlider=function(){return f.slider.is(":animated")||f.slides.is(":animated")||f.navButtons&&f.navButtons.is(":animated")?f.after=f.resetSlider:(f.autoplayOff(),f.stage.removeAttr("style"),f.slider.removeAttr("style"),f.slides.removeAttr("style"),f.slides.filter("."+f.classSlideClone).remove(),f.slides=f.slider.children(f.options.selectorSlide),f.stageHeight=0,f.slideWidthCurrent=0,f.slideScaling=f.optionsInit.slideScaling,f.indexCurrent-=f.slidesToClone,f.indexFirst=0,f.increment=f.optionsInit.increment,f.after=!1,f.setup(),f.slideSetup(),f.updateNavButtons(),f.autoplayOn(f.increment)),this},f.normalizeIndex=function(n){return(n%f.slidesLengthOrig+f.slidesLengthOrig)%f.slidesLengthOrig},f.slideSetup=function(){f.slides.each(function(t){var i=n(this);i.css({"transform-origin":"50% "+String(50+f.offsetV)+"%",width:f.slideWidthCurrent});f.options.centerV&&f.getMarginTop(i,"slideMarginTopCurrent");i.css({width:f.scalingWidth});f.slideScaling!==100&&i.css({marginLeft:f.scalingMargin,marginRight:f.scalingMargin,transform:"scale("+100/f.slideScaling+")",borderSpacing:f.slideScaling});f.options.centerV&&i.children().first().css("marginTop",f.getMarginTop(i,"slideMarginTop"));t===f.indexCurrent&&(i.css({borderSpacing:"100px",width:f.slideWidthCurrent,marginLeft:0,marginRight:0,transform:"scale(1)"}).addClass(f.classCurrent).siblings().removeClass(f.classCurrent),f.options.centerV&&i.children().first().css("marginTop",f.getMarginTop(i,"slideMarginTopCurrent")))})},f.getMarginTop=function(n,t){var i=0,r=n.children().first().outerHeight();return r>f.stageHeight&&(i=(f.stageHeight-r)/2),n.data(t,i),i},f.supportTransform=function(n,t){var r=!1,i;return n&&Modernizr?Modernizr.csstransforms&&(r=!0):(i=t.style,(typeof i.transform!="undefined"||typeof i.WebkitTransform!="undefined"||typeof i.msTransform!="undefined")&&(r=!0)),r},f.init(i,u),this};n.fn.miSlider=function(t){return this.each(function(){var i=n(this);i.data("miSlider")||i.data("miSlider",new u(this,t))})}})(jQuery,window,document,Math);
/*
//# sourceMappingURL=mislider.min.js.map
*/